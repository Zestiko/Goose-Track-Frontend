"use strict";(self.webpackChunkgoose_track=self.webpackChunkgoose_track||[]).push([[464],{4464:function(a,e,n){n.r(e),n.d(e,{default:function(){return Z}});var t=n(5861),r=n(9439),c=n(4687),s=n.n(c),o=n(2791),l=n(9434),_=n(4746),i=n(6129),u=n(2426),m=n.n(u),d=n(5705),p=n(6727),h=p.Ry().shape({userName:p.Z_().min(3,"Too Short!").max(36,"Too Long!").required("Required"),email:p.Z_().email("Invalid email").required("Required"),phone:p.Z_().matches(/^\+380\d{9}$/,"Phone number must be in the format +380XXXXXXXXX"),telegram:p.Z_().matches(/^[a-zA-Z0-9_@]*$/,'value contains only latin letters, numbers, underscore and "@" symbol'),avatar:p.Z_("Invalid avatar"),birthday:p.hT()}),f={user_page:"accountPage_user_page__2b2f0",user_page__avatar_container:"accountPage_user_page__avatar_container__x8xHg",user_page__avatar:"accountPage_user_page__avatar__X7iSu",avatar_upload_btn:"accountPage_avatar_upload_btn__c0sNy",user_page__name:"accountPage_user_page__name__jpU+G",user_page__role:"accountPage_user_page__role__P3cpO",username_form:"accountPage_username_form__6g2oi",username_form__label:"accountPage_username_form__label__Zr8sg",username_form_input:"accountPage_username_form_input__UFHqo",is_invalid:"accountPage_is_invalid__Tz6E4","username_form-input--last":"accountPage_username_form-input--last__H1Ue1",username_form__submit:"accountPage_username_form__submit__9Vc2l","username__form-submit":"accountPage_username__form-submit__R8lsZ",invalid_feedback:"accountPage_invalid_feedback__xwEBF",date_picker:"accountPage_date_picker__Zbqb-"};var g=n.p+"static/media/ph_user.24aa63a90eb019bd4fe5b5f4ba8aaf48.svg",b=n(1413),v=n(9513),N=n.n(v),x=n(184),y=(new Date).toISOString().split("T")[0],j=function(a){a.name;var e=a.birthday,n=(0,d.U$)("date"),t=(0,r.Z)(n,3),c=t[0],s=t[1],l=t[2],_=s.value,i=l.setValue,u=(0,o.useState)(m()()),p=(0,r.Z)(u,2),h=p[0],f=p[1],g=(0,o.useCallback)((function(a){var e=m()(a).format("dddd");return"Saturday"===e||"Sunday"===e}),[]),v=(0,o.useCallback)((function(a){var e=[],n=m()(h).startOf("month"),t=m()(h).endOf("month");return(m()(a).isBefore(n)||m()(a).isAfter(t))&&e.push("outside-month"),g(a)&&e.push("highlighted-weekend"),e.join(" ")}),[h,g]),j=(0,o.useCallback)((function(a){f(m()(a))}),[]),k=(0,o.useCallback)((function(){f(_||new Date(e||y))}),[_,e]);return(0,x.jsx)(N(),(0,b.Z)((0,b.Z)({},c),{},{selected:_||new Date(e||y),onChange:function(a){return i(a)},onMonthChange:j,dayClassName:v,calendarStartDay:1,placeholderText:e||"Choose a date",formatWeekDay:function(a){return a.charAt(0)},showPopperArrow:!1,onCalendarClose:k}))},k=n(1686),P=["userName","email","birthday","phone","telegram"],S=function(a){var e=a.theme,n=(0,l.I0)(),c=(0,l.v9)(_.mE),u=(0,o.useState)(null),p=(0,r.Z)(u,2),b=p[0],v=p[1],N=(0,o.useState)(null),y=(0,r.Z)(N,2),S=y[0],Z=y[1],w={phone:c.phone||"",telegram:c.telegram||"",userName:c.userName,email:c.email,birthday:c.birthday,avatarUpload:!1},C=function(){var a=(0,t.Z)(s().mark((function a(e){var t;return s().wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return t=new FormData,P.forEach((function(a){if(e[a])if("birthday"!==a)t.append(a,e[a]);else{var n=m()(e[a]).format("YYYY-MM-DD");t.append("birthday",n)}})),S&&t.append("avatar",S),a.prev=3,a.next=6,n((0,i.Lj)(t));case 6:k.Notify.success("Success.Info updated."),a.next=13;break;case 9:a.prev=9,a.t0=a.catch(3),console.log(a.t0),k.Notify.error("Error.Something gone wrong.");case 13:case"end":return a.stop()}}),a,null,[[3,9]])})));return function(e){return a.apply(this,arguments)}}();return(0,x.jsx)("section",{className:"".concat(f.user_page," ").concat(e),children:(0,x.jsx)(d.J9,{initialValues:w,validationSchema:h,onSubmit:C,enableReinitialize:!0,children:function(a){return(0,x.jsxs)(d.l0,{children:[(0,x.jsxs)("div",{className:"".concat(f.user_page__avatar_container," ").concat(e),children:[(0,x.jsx)("img",{className:"".concat(f.user_page__avatar," ").concat(e),src:b||c.avatar||g,alt:"User Avatar"}),(0,x.jsxs)("div",{className:"".concat(f.avatar_upload_container," ").concat(e),children:[(0,x.jsx)(d.gN,{id:"avatar-upload",name:"avatar",type:"file",accept:"image/*",onChange:function(e){return function(a,e){var n=a.target.files[0];Z(n);var t=new FileReader,r=new Blob([n],{type:n.type});t.readAsDataURL(r),t.onload=function(){v(t.result),e("avatar-upload",!!n)}}(e,a.setFieldValue)},style:{display:"none"}}),(0,x.jsx)("label",{htmlFor:"avatar-upload",className:"".concat(f.avatar_upload_btn," ").concat(e)})]}),(0,x.jsx)("h3",{className:"".concat(f.user_page__name," ").concat(e),children:c.userName||"Username"}),(0,x.jsx)("p",{className:"".concat(f.user_page__role," ").concat(e),children:"User"})]}),(0,x.jsxs)("div",{className:"".concat(f.username_form," ").concat(e),children:[(0,x.jsxs)("label",{htmlFor:"userName",className:"".concat(f.username_form__label," ").concat(e),children:["Username",(0,x.jsx)(d.gN,{name:"userName",type:"text",className:"".concat(f.username_form_input," ").concat(e)+(a.errors.userName&&a.touched.userName?f.is_invalid:""),placeholder:"User name"}),(0,x.jsx)(d.Bc,{name:"userName",component:"div",className:f.invalid_feedback})]}),(0,x.jsxs)("label",{htmlFor:"birthday",className:"".concat(f.username_form__label," ").concat(e),children:["Birthday:",(0,x.jsx)(j,{name:"birthday",birthday:a.values.birthday,className:f.my_date_picker}),(0,x.jsx)(d.Bc,{name:"birthday",component:"div",className:f.invalid_feedback})]}),(0,x.jsxs)("label",{htmlFor:"email",className:"".concat(f.username_form__label," ").concat(e),children:["Email Address",(0,x.jsx)(d.gN,{name:"email",type:"email",className:"".concat(f.username_form_input," ").concat(e)}),(0,x.jsx)(d.Bc,{name:"email",component:"div",className:f.invalid_feedback})]}),(0,x.jsxs)("label",{htmlFor:"phone",className:"".concat(f.username_form__label," ").concat(e),children:["Phone:",(0,x.jsx)(d.gN,{className:"".concat(f.username_form_input," ").concat(e),id:"phone",name:"phone",type:"text",placeholder:"Enter your phone"}),(0,x.jsx)(d.Bc,{name:"phone",component:"div",className:f.invalid_feedback})]}),(0,x.jsxs)("label",{htmlFor:"telegram",className:"".concat(f.username_form__label," ").concat(e),children:["Telegram:",(0,x.jsx)(d.gN,{className:"".concat(f.username_form_input," ").concat(e),id:"telegram",name:"telegram",type:"text",placeholder:"Enter your Telegram link"}),(0,x.jsx)(d.Bc,{name:"telegram",component:"div",className:f.invalid_feedback})]}),(0,x.jsx)("button",{type:"submit",className:"".concat(f.username_form__submit," ").concat(e),disabled:a.isSubmitting||!a.touched||!a.dirty,children:"Save Changes"})]})]})}})})};function Z(){return(0,x.jsx)(S,{})}}}]);
//# sourceMappingURL=464.f32efdfa.chunk.js.map